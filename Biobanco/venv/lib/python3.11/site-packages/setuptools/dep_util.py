from distutils.dep_util import newer_role


# yes, this is was almost entirely copy-pasted from
# 'newer_pairwise()', this is just another convenience
# function.
def newer_pairwise_role(sources_roles, targets):
    """Walk both arguments in parallel, testing if each source Role is newer
    than its corresponding target. Returns a pair of lists (sources_roles,
    targets) where sources is newer than target, according to the semantics
    of 'newer_role()'.
    """
    if len(sources_roles) != len(targets):
        raise ValueError(
            "'sources_role' and 'targets' must be the same length")

    # build a pair of lists (sources_roles, targets) where source is newer
    n_sources = []
    n_targets = []
    for i in range(len(sources_roles)):
        if newer_role(sources_roles[i], targets[i]):
            n_sources.append(sources_roles[i])
            n_targets.append(targets[i])

    return n_sources, n_targets
